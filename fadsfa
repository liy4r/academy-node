const withdraw = async (users, user) => {
  let balance = parseInt(user.balance) || 0;
  const { amount } = await inquirer.prompt([
    {
      type: "number",
      name: "amount",
      message: "Hediin zarlaga gargah ve?",
    },
  ]);
  balance = balance - amount;
  user.balance = balance;
  return await updateUser(users, user, amount, "withdraw");
  // if (balance > withdrawAmount) {
  //   balance = balance - withdrawAmount;
  //   user.balance = balance;
  //   return await updateUser(users, user, withdrawAmount, "withdraw");
  // } else {
  //   console.log("Guilgee amjiltgui");
  // }
};
const checkBalance = async (users, user) => {
  console.log(user.balance);
};
const historyAll = async (users, user) => {
  const { historyOption } = await inquirer.prompt([
    {
      type: "select",
      name: "historyOption",
      message: "Deposit or Withdraw",
      choices: [
        { name: "History deposit", value: "history-deposit" },
        { name: "History withdraw", value: "history-withdraw" },
      ],
    },
  ]);
  switch (historyOption) {
    case "history-deposit":
      console.log("history-deposit");
      break;
    case "history-withdraw":
      console.log("history-withdraw");
      break;
  }
};
const transaction = async (users, user) => {
  let balance = parseInt(user.balance);
  const { transactionAmount, trName } = await inquirer.prompt([
    {
      type: "input",
      name: "trName",
      message: "Hen ruu shiljuuleh ve?",
    },
    {
      type: "number",
      name: "transactionAmount",
      message: "Hediig shiljuuleh ve?",
    },
  ]);
  const name = users.find((value) => {
    return value.username === trName;
  });
  let rBalance = parseInt(name.balance);
  balance = balance - transactionAmount;
  rBalance = rBalance + transactionAmount;
  return await updateUser(users, user, transactionAmount, "transaction");
};
